(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),u=t(13),l=t.n(u),r=(t(19),t(2)),c=function(e){var n=e.person,t=e.delPerson;return o.a.createElement("p",null,n.name," ",n.number," ",o.a.createElement("button",{onClick:t},"Poista"))},i=function(e){return e.personsToShow.map((function(n,t){return o.a.createElement(c,{key:t,person:n,delPerson:function(){return e.delPerson(n.id)}})}))},s=function(e){return o.a.createElement("form",{onSubmit:e.addPerson},o.a.createElement("div",null,"name:",o.a.createElement("input",{value:e.newName,onChange:e.handlePersonChange})),o.a.createElement("div",null,"number:",o.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},m=t(3),h=t.n(m),f="/api/persons",p=function(){return h.a.get(f).then((function(e){return e.data}))},d=function(e){return h.a.post(f,e).then((function(e){return e.data}))},b=function(e,n){return h.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},v=function(e){return h.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},E=function(e){var n=e.notification;return null===n?null:o.a.createElement("div",{className:n.type},n.message)},g=function(){var e=Object(a.useState)([]),n=Object(r.a)(e,2),t=n[0],u=n[1],l=Object(a.useState)(""),c=Object(r.a)(l,2),m=c[0],h=c[1],f=Object(a.useState)(""),g=Object(r.a)(f,2),k=g[0],w=g[1],j=Object(a.useState)(""),O=Object(r.a)(j,2),C=O[0],H=O[1],P=Object(a.useState)(null),N=Object(r.a)(P,2),S=N[0],y=N[1];Object(a.useEffect)((function(){p().then((function(e){u(e)}))}),[]);var T=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";y({message:e,type:n}),setTimeout((function(){y(null)}),2e3)},V=t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}));return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(E,{notification:S}),o.a.createElement("form",null,"Filter shown with:",o.a.createElement("input",{value:C,onChange:function(e){H(e.target.value),console.log("Haku: ",C)}})),o.a.createElement("h2",null,"Add a new"),o.a.createElement(s,{addPerson:function(e){e.preventDefault();var n={name:m,number:k};if(t.map((function(e){return e.name})).includes(m)){if(window.confirm("Henkil\xf6 on jo puhelinluettelosta. Haluatko korvata vanhan puhelinnumeron?")){var a=t[t.map((function(e){return e.name})).indexOf(m)].id;b(a,n).then((function(e){u(t.map((function(n){return n.id!==a?n:e}))),T("Henkil\xf6n '".concat(n.name,"' puhelinnumero muutettu")),console.log("Henkil\xf6n '".concat(n.name,"' puhelinnumero muutettu"))})).catch((function(e){T("".concat(e.response.data.error," "),"error"),console.log("Virhe puhelinnnumeron muuttamisessa")}))}}else d(n).then((function(e){u(t.concat(e)),T("Henkil\xf6  '".concat(n.name,"' lis\xe4tty puhelinluetteloon")),console.log("Henkil\xf6 '".concat(n.name,"' lis\xe4tty puhelinluetteloon"))})).catch((function(e){T("Virhe puhelinluetteloon lis\xe4\xe4misess\xe4","error"),console.log("Virhe puhelinluetteloon lis\xe4\xe4misess\xe4")}));h(""),w("")},newName:m,handlePersonChange:function(e){h(e.target.value)},newNumber:k,handleNumberChange:function(e){w(e.target.value)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(i,{personsToShow:V,delPerson:function(e){window.confirm("Haluatko varmasti poistaa t\xe4m\xe4n henkil\xf6n puhelinluettelosta?")&&v(e).then(p().then((function(n){u(t.filter((function(n){return n.id!==e}))),T("Henkil\xf6 poistettu puhelinluettelosta")})).catch((function(e){T("Henkil\xf6 on jo poistettu luettelosta","error")})))}}))};l.a.render(o.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.74fa67f6.chunk.js.map